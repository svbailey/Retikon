swagger: "2.0"
info:
  title: "${api_title}"
  description: "Retikon API Gateway"
  version: "${api_version}"
schemes:
  - https
produces:
  - application/json
securityDefinitions:
  jwt:
    type: "oauth2"
    flow: "implicit"
    authorizationUrl: ""
    x-google-issuer: "${jwt_issuer}"
    x-google-jwks_uri: "${jwt_jwks_uri}"
    x-google-audiences: "${jwt_audience}"
security:
  - jwt: []
paths:
  /query:
    post:
      operationId: query_post
      x-google-backend:
        address: "${query_url}"
        jwt_audience: "${query_url}"
        path_translation: APPEND_PATH_TO_ADDRESS
        deadline: 120.0
      responses:
        "200":
          description: "OK"
    options:
      operationId: query_options
      security: []
      x-google-backend:
        address: "${query_url}"
        jwt_audience: "${query_url}"
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        "200":
          description: "OK"
  /query/{proxy}:
    parameters:
      - name: proxy
        in: path
        required: true
        type: string
    get:
      operationId: query_proxy_get
      x-google-backend:
        address: "${query_url}"
        jwt_audience: "${query_url}"
        path_translation: APPEND_PATH_TO_ADDRESS
        deadline: 120.0
      responses:
        "200":
          description: "OK"
    post:
      operationId: query_proxy_post
      x-google-backend:
        address: "${query_url}"
        jwt_audience: "${query_url}"
        path_translation: APPEND_PATH_TO_ADDRESS
        deadline: 120.0
      responses:
        "200":
          description: "OK"
    put:
      operationId: query_proxy_put
      x-google-backend:
        address: "${query_url}"
        jwt_audience: "${query_url}"
        path_translation: APPEND_PATH_TO_ADDRESS
        deadline: 120.0
      responses:
        "200":
          description: "OK"
    patch:
      operationId: query_proxy_patch
      x-google-backend:
        address: "${query_url}"
        jwt_audience: "${query_url}"
        path_translation: APPEND_PATH_TO_ADDRESS
        deadline: 120.0
      responses:
        "200":
          description: "OK"
    delete:
      operationId: query_proxy_delete
      x-google-backend:
        address: "${query_url}"
        jwt_audience: "${query_url}"
        path_translation: APPEND_PATH_TO_ADDRESS
        deadline: 120.0
      responses:
        "200":
          description: "OK"
    options:
      operationId: query_proxy_options
      security: []
      x-google-backend:
        address: "${query_url}"
        jwt_audience: "${query_url}"
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        "200":
          description: "OK"
  /workflows:
    get:
      operationId: workflows_get
      x-google-backend:
        address: "${workflow_url}"
        jwt_audience: "${workflow_url}"
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        "200":
          description: "OK"
    post:
      operationId: workflows_post
      x-google-backend:
        address: "${workflow_url}"
        jwt_audience: "${workflow_url}"
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        "200":
          description: "OK"
    options:
      operationId: workflows_options
      security: []
      x-google-backend:
        address: "${workflow_url}"
        jwt_audience: "${workflow_url}"
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        "200":
          description: "OK"
  /workflows/{proxy}:
    parameters:
      - name: proxy
        in: path
        required: true
        type: string
    get:
      operationId: workflows_proxy_get
      x-google-backend:
        address: "${workflow_url}"
        jwt_audience: "${workflow_url}"
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        "200":
          description: "OK"
    post:
      operationId: workflows_proxy_post
      x-google-backend:
        address: "${workflow_url}"
        jwt_audience: "${workflow_url}"
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        "200":
          description: "OK"
    put:
      operationId: workflows_proxy_put
      x-google-backend:
        address: "${workflow_url}"
        jwt_audience: "${workflow_url}"
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        "200":
          description: "OK"
    patch:
      operationId: workflows_proxy_patch
      x-google-backend:
        address: "${workflow_url}"
        jwt_audience: "${workflow_url}"
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        "200":
          description: "OK"
    delete:
      operationId: workflows_proxy_delete
      x-google-backend:
        address: "${workflow_url}"
        jwt_audience: "${workflow_url}"
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        "200":
          description: "OK"
    options:
      operationId: workflows_proxy_options
      security: []
      x-google-backend:
        address: "${workflow_url}"
        jwt_audience: "${workflow_url}"
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        "200":
          description: "OK"
  /chaos:
    get:
      operationId: chaos_get
      x-google-backend:
        address: "${chaos_url}"
        jwt_audience: "${chaos_url}"
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        "200":
          description: "OK"
    post:
      operationId: chaos_post
      x-google-backend:
        address: "${chaos_url}"
        jwt_audience: "${chaos_url}"
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        "200":
          description: "OK"
    options:
      operationId: chaos_options
      security: []
      x-google-backend:
        address: "${chaos_url}"
        jwt_audience: "${chaos_url}"
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        "200":
          description: "OK"
  /chaos/{proxy}:
    parameters:
      - name: proxy
        in: path
        required: true
        type: string
    get:
      operationId: chaos_proxy_get
      x-google-backend:
        address: "${chaos_url}"
        jwt_audience: "${chaos_url}"
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        "200":
          description: "OK"
    post:
      operationId: chaos_proxy_post
      x-google-backend:
        address: "${chaos_url}"
        jwt_audience: "${chaos_url}"
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        "200":
          description: "OK"
    put:
      operationId: chaos_proxy_put
      x-google-backend:
        address: "${chaos_url}"
        jwt_audience: "${chaos_url}"
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        "200":
          description: "OK"
    patch:
      operationId: chaos_proxy_patch
      x-google-backend:
        address: "${chaos_url}"
        jwt_audience: "${chaos_url}"
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        "200":
          description: "OK"
    delete:
      operationId: chaos_proxy_delete
      x-google-backend:
        address: "${chaos_url}"
        jwt_audience: "${chaos_url}"
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        "200":
          description: "OK"
    options:
      operationId: chaos_proxy_options
      security: []
      x-google-backend:
        address: "${chaos_url}"
        jwt_audience: "${chaos_url}"
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        "200":
          description: "OK"
  /audit:
    get:
      operationId: audit_get
      x-google-backend:
        address: "${audit_url}"
        jwt_audience: "${audit_url}"
        path_translation: APPEND_PATH_TO_ADDRESS
        deadline: 120.0
      responses:
        "200":
          description: "OK"
    options:
      operationId: audit_options
      security: []
      x-google-backend:
        address: "${audit_url}"
        jwt_audience: "${audit_url}"
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        "200":
          description: "OK"
  /audit/{proxy}:
    parameters:
      - name: proxy
        in: path
        required: true
        type: string
    get:
      operationId: audit_proxy_get
      x-google-backend:
        address: "${audit_url}"
        jwt_audience: "${audit_url}"
        path_translation: APPEND_PATH_TO_ADDRESS
        deadline: 120.0
      responses:
        "200":
          description: "OK"
    options:
      operationId: audit_proxy_options
      security: []
      x-google-backend:
        address: "${audit_url}"
        jwt_audience: "${audit_url}"
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        "200":
          description: "OK"
  /access:
    get:
      operationId: access_get
      x-google-backend:
        address: "${audit_url}"
        jwt_audience: "${audit_url}"
        path_translation: APPEND_PATH_TO_ADDRESS
        deadline: 120.0
      responses:
        "200":
          description: "OK"
    options:
      operationId: access_options
      security: []
      x-google-backend:
        address: "${audit_url}"
        jwt_audience: "${audit_url}"
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        "200":
          description: "OK"
  /access/{proxy}:
    parameters:
      - name: proxy
        in: path
        required: true
        type: string
    get:
      operationId: access_proxy_get
      x-google-backend:
        address: "${audit_url}"
        jwt_audience: "${audit_url}"
        path_translation: APPEND_PATH_TO_ADDRESS
        deadline: 120.0
      responses:
        "200":
          description: "OK"
    options:
      operationId: access_proxy_options
      security: []
      x-google-backend:
        address: "${audit_url}"
        jwt_audience: "${audit_url}"
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        "200":
          description: "OK"
