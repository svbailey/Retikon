# V3.1 Sprint 01 - Enterprise identity and RBAC/ABAC core

Dates: TBD
Owner: TBD

## Goal
Build identity and access-control foundations for Pro Enterprise.

## Scope checklist (Core)
- [ ] Add identity provider config scaffolding: `retikon_core/auth/idp.py`.
- [ ] Implement RBAC roles and permission bundles: `retikon_core/auth/rbac.py`.
- [ ] Add ABAC policy evaluation engine: `retikon_core/auth/abac.py`.
- [ ] Add audit log schema (additive) in `retikon_core/schemas/graphar/`.

## Scope checklist (Pro)
- [ ] Extend API auth middleware in `gcp_adapter/query_service.py` and
      `gcp_adapter/ingestion_service.py`.

## Primary paths (Core)
- `retikon_core/auth/idp.py`
- `retikon_core/auth/rbac.py`
- `retikon_core/auth/abac.py`
- `retikon_core/schemas/graphar/`

## Primary paths (Pro)
- `gcp_adapter/query_service.py`
- `gcp_adapter/ingestion_service.py`

## Tests and validation
- [ ] Core: `tests/core/test_auth_rbac.py`
- [ ] Core: `tests/core/test_auth_abac.py`
- [ ] Pro: `tests/pro/test_auth_middleware.py` (new)

## Deliverables
- [ ] Role- and policy-based access enforced in Pro API layer

## Risks / Dependencies
- [ ] TBD

## Notes
-

## Sprint 1 Kickoff Checklist
- [ ] Confirm sprint dates and owner.
- [ ] Validate Core/Pro boundary notes for Sprint 1 tasks.
- [ ] Create task tickets for Core auth modules and Pro middleware updates.
- [ ] Define test plan and owners for new Core/Pro tests.
- [ ] Align on GraphAr schema changes (additive) and review approval.
- [ ] Establish demo acceptance criteria for RBAC/ABAC enforcement.
