# V3.0 Sprint 03 - Local query + search

Dates: TBD
Owner: TBD

## Goal
Local query works with additive schema evolution and search across modalities.

## Scope checklist
- [ ] Update retikon_core/query_engine/query_runner.py to support local file paths.
- [ ] Ensure all DuckDB reads use union_by_name=true for schema evolution.
- [ ] Add local snapshot support in retikon_core/query_engine/index_builder.py.
- [ ] Update retikon_core/storage/schemas.py to merge schema versions cleanly.
- [ ] Add metadata and keyword search support in retikon_core/query_engine/.
- [ ] Add query mode/modality filtering to skip unused embeddings.
- [ ] Add model warmup hooks for query services (local + hosted).
- [ ] Add slow-query timing breakdown logging for embeddings vs DuckDB.

## Primary paths
- `retikon_core/query_engine/query_runner.py`
- `retikon_core/query_engine/index_builder.py`
- `retikon_core/storage/schemas.py`
- `retikon_core/query_engine/`

## Tests and validation
- [ ] `tests/test_query_runner.py`
- [ ] `tests/test_graphar_schemas.py`
- [ ] `tests/test_query_modes.py`

## Deliverables
- [ ] Local query returns text/image/audio results against local GraphAr

## Risks / Dependencies
- [ ] TBD

## Notes
-
